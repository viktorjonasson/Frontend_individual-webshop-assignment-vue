import{d as x,u as y,c as _,a as f,o as c,b as t,t as a,r as v,w,e as g,f as b,F as k,g as C,h as $,i as j,j as L,k as h}from"./index-gTATvFwa.js";const q={class:"flex py-10 gap-x-8"},S={class:"size-48 shrink-0 overflow-hidden rounded-md border border-base-200 bg-base-300"},B=["src","alt"],F={class:"ml-4 flex justify-between flex-col grow"},z={class:"flex flex-col"},I={class:"flex justify-between"},P={class:"text-lg font-semibold"},V={class:"text-sm text-base-content/50"},E={class:"mt-3 font-semibold"},M={class:"flex gap-x-2 items-center"},N={class:""},R=x({__name:"CartListItem",props:{product:{type:Object,required:!0}},setup(n){const o=n,r=y(),i=_(()=>(o.product.price*o.product.quantity).toFixed(2));function m(){r.removeFromCart(o.product.id)}function l(d){r.updateQuantity(o.product.id,d)}return(d,s)=>(c(),f("li",q,[t("div",S,[t("img",{src:n.product.thumbnail,alt:n.product.title,class:"size-full object-cover"},null,8,B)]),t("div",F,[t("div",z,[t("div",I,[t("h3",P,a(n.product.title),1),t("button",{onClick:m,type:"button",class:"text-base-content/50 hover:text-base-content","aria-label":"Remove item from cart"},s[2]||(s[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})],-1)]))]),t("p",V,"€"+a(n.product.price)+"/pc",1),t("p",E,"€"+a(i.value),1)]),t("div",M,[t("button",{onClick:s[0]||(s[0]=e=>l(-1)),type:"button",class:"btn btn-circle btn-xs","aria-label":"Decrease quantity"}," – "),t("p",N,a(n.product.quantity),1),t("button",{onClick:s[1]||(s[1]=e=>l(1)),type:"button",class:"btn btn-circle btn-xs","aria-label":"Increase quantity"}," + ")])])]))}}),D={class:"my-10"},O={class:"lg:flex items-start gap-18 my-10 flex-wrap justify-center"},Q={class:"grow border-y-2 border-base-300 mb-15"},T={class:"flow-root"},H={role:"list",class:"divide-y-2 divide-base-300"},A={class:"max-w-xl lg:w-sm lg:shrink-0 bg-base-200 rounded-xl border-2 border-base-300 px-6 py-8 mx-auto"},G={class:"flex justify-between text-lg font-semibold"},J={class:"mt-4 flex justify-center text-center text-sm text-base-content/50"},K={type:"button",class:"font-medium link text-base-content hover:text-base-content/50"},U=x({__name:"ShoppingCart",setup(n){const o=v([]),r=y(),i=v(!0),m=_(()=>o.value.reduce((s,e)=>s+e.price*e.quantity,0).toFixed(2));async function l(){i.value=!0;try{const s=r.cartList;if(s.length===0){o.value=[],i.value=!1;return}const e=s.map(async u=>({...await(await fetch(`https://dummyjson.com/products/${u.id}`)).json(),quantity:u.quantity}));o.value=await Promise.all(e)}catch(s){console.error("Error fetching products:",s)}finally{i.value=!1}}function d(){r.clearCart()}return w(()=>r.cartList,()=>{l()},{deep:!0}),g(()=>{l()}),(s,e)=>{const u=L("RouterLink");return c(),f("div",D,[t("div",{class:"flex space-between items-center"},[e[1]||(e[1]=t("h2",{class:"grow text-5xl font-bold"},"Cart",-1)),t("button",{class:"btn",onClick:d},e[0]||(e[0]=[b(" Empty cart "),t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})],-1)]))]),t("div",O,[t("div",Q,[t("div",T,[t("ul",H,[(c(!0),f(k,null,C(o.value,p=>(c(),h(R,{key:p.id,product:p},null,8,["product"]))),128))])])]),t("div",A,[t("div",G,[e[2]||(e[2]=t("p",null,"Order total",-1)),t("p",null,"$"+a(m.value),1)]),e[6]||(e[6]=t("p",{class:"mt-0.5 text-sm text-base-content/50"}," Shipping and taxes calculated at checkout. ",-1)),e[7]||(e[7]=t("div",{class:"mt-10 flex justify-center"},[t("a",{href:"#",class:"btn btn-block btn-accent"},"Checkout")],-1)),t("div",J,[t("p",null,[e[5]||(e[5]=b(" or"+a(" ")+" ")),t("button",K,[$(u,{to:"/"},{default:j(()=>e[3]||(e[3]=[b("Continue Shopping")])),_:1}),e[4]||(e[4]=t("span",{"aria-hidden":"true"}," →",-1))])])])])])])}}}),Y=x({__name:"CartView",setup(n){return(o,r)=>(c(),h(U))}});export{Y as default};
